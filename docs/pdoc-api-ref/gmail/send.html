<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>snoozingmail.gmail.send API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>snoozingmail.gmail.send</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import base64
from email.mime.audio import MIMEAudio
from email.mime.base import MIMEBase
from email.mime.image import MIMEImage
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
import mimetypes
import os

from apiclient import errors


def SendMessage(service, message):
    &#34;&#34;&#34;Send an email message.

    Args:
        service: Authorized Gmail API service instance.
        message: Message to be sent.

    Returns:
        Sent Message.
    &#34;&#34;&#34;
    try:
        message = (service.users().messages().send(userId=&#34;me&#34;, body=message)
                .execute())
        return message
    except errors.HttpError as error:
        print(&#39;An error occurred: %s&#39; % error)


def CreateMessage(to, subject, message_text):
    &#34;&#34;&#34;Create a message for an email.

    Args:
        sender: Email address of the sender.
        to: Email address of the receiver.
        subject: The subject of the email message.
        message_text: The text of the email message.

    Returns:
        An object containing a base64 encoded email object.
    &#34;&#34;&#34;
    message = MIMEText(message_text)
    message[&#39;to&#39;] = to
    message[&#39;from&#39;] = &#34;me&#34;
    message[&#39;subject&#39;] = subject
    b64_bytes = base64.urlsafe_b64encode(message.as_bytes())
    b64_string = b64_bytes.decode()
    return {&#39;raw&#39;: b64_string}


def CreateMessageWithAttachment(to, subject, message_text, file_path):
    &#34;&#34;&#34;Create a message for an email.

    Args:
        to: Email address of the receiver.
        subject: The subject of the email message.
        message_text: The text of the email message.
        file_path: The path to the file to be attached.

    Returns:
        An object containing a base64 encoded email object.
    &#34;&#34;&#34;
    message = MIMEMultipart()
    message[&#39;to&#39;] = to
    message[&#39;from&#39;] = &#34;me&#34;
    message[&#39;subject&#39;] = subject

    msg = MIMEText(message_text)
    message.attach(msg)

    content_type, encoding = mimetypes.guess_type(file_path)

    if content_type is None or encoding is not None:
        content_type = &#39;application/octet-stream&#39;
    main_type, sub_type = content_type.split(&#39;/&#39;, 1)
    if main_type == &#39;text&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEText(fp.read(), _subtype=sub_type)
        fp.close()
    elif main_type == &#39;image&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEImage(fp.read(), _subtype=sub_type)
        fp.close()
    elif main_type == &#39;audio&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEAudio(fp.read(), _subtype=sub_type)
        fp.close()
    else:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEBase(main_type, sub_type)
        msg.set_payload(fp.read())
        fp.close()

    msg.add_header(&#39;Content-Disposition&#39;, &#39;attachment&#39;,
                   filename=os.path.basename(file_path))
    message.attach(msg)

    b64_bytes = base64.urlsafe_b64encode(message.as_bytes())
    b64_string = b64_bytes.decode()
    return {&#39;raw&#39;: b64_string}</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="snoozingmail.gmail.send.CreateMessage"><code class="name flex">
<span>def <span class="ident">CreateMessage</span></span>(<span>to, subject, message_text)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a message for an email.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>sender</code></strong></dt>
<dd>Email address of the sender.</dd>
<dt><strong><code>to</code></strong></dt>
<dd>Email address of the receiver.</dd>
<dt><strong><code>subject</code></strong></dt>
<dd>The subject of the email message.</dd>
<dt><strong><code>message_text</code></strong></dt>
<dd>The text of the email message.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>An object containing a base64 encoded email object.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def CreateMessage(to, subject, message_text):
    &#34;&#34;&#34;Create a message for an email.

    Args:
        sender: Email address of the sender.
        to: Email address of the receiver.
        subject: The subject of the email message.
        message_text: The text of the email message.

    Returns:
        An object containing a base64 encoded email object.
    &#34;&#34;&#34;
    message = MIMEText(message_text)
    message[&#39;to&#39;] = to
    message[&#39;from&#39;] = &#34;me&#34;
    message[&#39;subject&#39;] = subject
    b64_bytes = base64.urlsafe_b64encode(message.as_bytes())
    b64_string = b64_bytes.decode()
    return {&#39;raw&#39;: b64_string}</code></pre>
</details>
</dd>
<dt id="snoozingmail.gmail.send.CreateMessageWithAttachment"><code class="name flex">
<span>def <span class="ident">CreateMessageWithAttachment</span></span>(<span>to, subject, message_text, file_path)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a message for an email.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>to</code></strong></dt>
<dd>Email address of the receiver.</dd>
<dt><strong><code>subject</code></strong></dt>
<dd>The subject of the email message.</dd>
<dt><strong><code>message_text</code></strong></dt>
<dd>The text of the email message.</dd>
<dt><strong><code>file_path</code></strong></dt>
<dd>The path to the file to be attached.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>An object containing a base64 encoded email object.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def CreateMessageWithAttachment(to, subject, message_text, file_path):
    &#34;&#34;&#34;Create a message for an email.

    Args:
        to: Email address of the receiver.
        subject: The subject of the email message.
        message_text: The text of the email message.
        file_path: The path to the file to be attached.

    Returns:
        An object containing a base64 encoded email object.
    &#34;&#34;&#34;
    message = MIMEMultipart()
    message[&#39;to&#39;] = to
    message[&#39;from&#39;] = &#34;me&#34;
    message[&#39;subject&#39;] = subject

    msg = MIMEText(message_text)
    message.attach(msg)

    content_type, encoding = mimetypes.guess_type(file_path)

    if content_type is None or encoding is not None:
        content_type = &#39;application/octet-stream&#39;
    main_type, sub_type = content_type.split(&#39;/&#39;, 1)
    if main_type == &#39;text&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEText(fp.read(), _subtype=sub_type)
        fp.close()
    elif main_type == &#39;image&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEImage(fp.read(), _subtype=sub_type)
        fp.close()
    elif main_type == &#39;audio&#39;:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEAudio(fp.read(), _subtype=sub_type)
        fp.close()
    else:
        fp = open(file_path, &#39;rb&#39;)
        msg = MIMEBase(main_type, sub_type)
        msg.set_payload(fp.read())
        fp.close()

    msg.add_header(&#39;Content-Disposition&#39;, &#39;attachment&#39;,
                   filename=os.path.basename(file_path))
    message.attach(msg)

    b64_bytes = base64.urlsafe_b64encode(message.as_bytes())
    b64_string = b64_bytes.decode()
    return {&#39;raw&#39;: b64_string}</code></pre>
</details>
</dd>
<dt id="snoozingmail.gmail.send.SendMessage"><code class="name flex">
<span>def <span class="ident">SendMessage</span></span>(<span>service, message)</span>
</code></dt>
<dd>
<div class="desc"><p>Send an email message.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>service</code></strong></dt>
<dd>Authorized Gmail API service instance.</dd>
<dt><strong><code>message</code></strong></dt>
<dd>Message to be sent.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Sent Message.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def SendMessage(service, message):
    &#34;&#34;&#34;Send an email message.

    Args:
        service: Authorized Gmail API service instance.
        message: Message to be sent.

    Returns:
        Sent Message.
    &#34;&#34;&#34;
    try:
        message = (service.users().messages().send(userId=&#34;me&#34;, body=message)
                .execute())
        return message
    except errors.HttpError as error:
        print(&#39;An error occurred: %s&#39; % error)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="snoozingmail.gmail" href="index.html">snoozingmail.gmail</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="snoozingmail.gmail.send.CreateMessage" href="#snoozingmail.gmail.send.CreateMessage">CreateMessage</a></code></li>
<li><code><a title="snoozingmail.gmail.send.CreateMessageWithAttachment" href="#snoozingmail.gmail.send.CreateMessageWithAttachment">CreateMessageWithAttachment</a></code></li>
<li><code><a title="snoozingmail.gmail.send.SendMessage" href="#snoozingmail.gmail.send.SendMessage">SendMessage</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>